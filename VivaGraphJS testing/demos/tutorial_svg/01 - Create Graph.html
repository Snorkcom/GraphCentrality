<!DOCTYPE html>
<html>
<head>
    <title>TEST2</title>
    <script type="text/javascript" src="../../dist/vivagraph.js"></script>
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript">
        function main () {
            // Step 1. We create a graph object.
            var graph = Viva.Graph.graph();
			var graphics = Viva.Graph.View.svgGraphics(),
                nodeSize = 24;

            
               var x1 = graph.addNode("Leyake", "11111");
               var x2 = graph.addNode("Leyake2", "222222");
               graph.addLink(1, 2);
			    graph.addLink('Leyake', 'Leyake2');
            
			
				graphics.node(function(node) {  
				
				var ui = Viva.Graph.svg('g'),
                  
                  svgText = Viva.Graph.svg('text').attr('y', '-4px').text(node.id),
                  img = Viva.Graph.svg('rect')					 
							 .attr('width', nodeSize)
							 .attr('height', nodeSize)
							 .attr('fill', 'red');

				$(ui).hover(function() {
                   img.attr('fill', 'deepskyblue');
				}, function() {
                   img.attr('fill', nodeColor);
				});
							 
              ui.append(svgText);
              ui.append(img);
              return ui;
            }).placeNode(function(nodeUI, pos) {
                // 'g' element doesn't have convenient (x,y) attributes, instead
                // we have to deal with transforms: http://www.w3.org/TR/SVG/coords.html#SVGGlobalTransformAttribute
                nodeUI.attr('transform',
                            'translate(' +
                                  (pos.x - nodeSize/2) + ',' + (pos.y - nodeSize/2) +
                            ')');
            });

            // Render the graph
            var renderer = Viva.Graph.View.renderer(graph, {
                    graphics : graphics
                });
            renderer.run();
        }
    </script>

    <style type="text/css" media="screen">
        html, body, svg { width: 100%; height: 100%;}
    </style>
</head>
<body onload='main()'>

</body>
</html>
